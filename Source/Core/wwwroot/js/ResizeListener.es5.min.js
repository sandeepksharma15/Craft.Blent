"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var _createClass=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),ResizeListener=function(){function n(t){_classCallCheck(this,n);this.logger=function(){};this.options={};this.throttleResizeHandlerId=-1;this.dotnet=undefined;this.breakpoint=-1;this.id=t;this.handleResize=this.throttleResizeHandler.bind(this)}return _createClass(n,[{key:"listenForResize",value:function(n,t){if(this.dotnet){this.options=t;return}this.options=t;this.dotnet=n;this.logger=t.enableLogging?console.log:function(){};this.logger("[Craft.Blent] Reporting resize events at rate of: "+((this.options||{}).reportRate||100)+"ms");window.addEventListener("resize",this.handleResize,!1);this.options.suppressInitEvent||this.resizeHandler();this.breakpoint=this.getBreakpoint(window.innerWidth)}},{key:"throttleResizeHandler",value:function(){clearTimeout(this.throttleResizeHandlerId);this.throttleResizeHandlerId=window.setTimeout(this.resizeHandler.bind(this),(this.options||{}).reportRate||100)}},{key:"resizeHandler",value:function(){if(this.options.notifyOnBreakpointOnly){var n=this.getBreakpoint(window.innerWidth);if(n==this.breakpoint)return;this.breakpoint=n}try{this.id?this.dotnet.invokeMethodAsync("RaiseOnResized",{height:window.innerHeight,width:window.innerWidth},this.getBreakpoint(window.innerWidth),this.id):this.dotnet.invokeMethodAsync("RaiseOnResized",{height:window.innerHeight,width:window.innerWidth},this.getBreakpoint(window.innerWidth))}catch(t){this.logger("[Craft.Blent] Error in resizeHandler:",{error:t})}}},{key:"cancelListener",value:function(){this.dotnet=undefined;window.removeEventListener("resize",this.handleResize)}},{key:"matchMedia",value:function(n){return window.matchMedia(n).matches}},{key:"getBrowserWindowSize",value:function(){return{height:window.innerHeight,width:window.innerWidth}}},{key:"getBreakpoint",value:function(n){return n>=this.options.breakpointDefinitions.Xxl?5:n>=this.options.breakpointDefinitions.Xl?4:n>=this.options.breakpointDefinitions.Lg?3:n>=this.options.breakpointDefinitions.Md?2:n>=this.options.breakpointDefinitions.Sm?1:0}}]),n}();window.resizeListener=new ResizeListener;window.resizeListenerFactory={mapping:{},listenForResize:function(n,t,i){var u=window.resizeListenerFactory.mapping,r;u[i]||(r=new ResizeListener(i),r.listenForResize(n,t),u[i]=r)},cancelListener:function(n){var t=window.resizeListenerFactory.mapping,i;t[n]&&(i=t[n],i.cancelListener(),delete t[n])},cancelListeners:function(n){for(var t=0;t<n.length;t++)window.resizeListenerFactory.cancelListener(n[t])}};